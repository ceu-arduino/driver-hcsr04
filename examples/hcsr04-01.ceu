#include "timer1.ceu"

#define HCSR04_PIN_TRIGGER 07

#if 1
#define HCSR04_PIN_ECHO 02
//#define GPIO_PIN_02_MODE _LOW
#include "pin_02.ceu"
#elif 0
#define HCSR04_PIN_ECHO 03
//#define GPIO_PIN_03_MODE _LOW
#include "pin_03.ceu"
#elif 0
#define HCSR04_PIN_ECHO 10
#include "pin_10.ceu"
#endif

#include "hcsr04.ceu"

output on/off PIN_13;

loop do
    var int d = await Hcsr04();
    emit PIN_13((d <= 30) as on/off);
    await 60ms;
end
